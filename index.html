<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Stock Ugphone + Quick Login</title>
  <style>
    body { font-family: monospace; background:#111; color:#0f0; }
    table { border-collapse: collapse; width:100%; margin-top:10px; }
    th, td { border:1px solid #0f0; padding:6px; text-align:center; }
    input, button, textarea { background:#000; color:#0f0; border:1px solid #0f0; padding:5px; margin:3px; }
    .box { border:1px dashed #0f0; padding:10px; margin-top:20px; }
    .code { background:#000; color:#0f0; border:1px solid #0f0; padding:8px; margin-top:8px; }
  </style>
</head>
<body>
  <h2>ðŸ“± Stock Ugphone</h2>

  <table id="stock">
    <thead>
      <tr><th>Server</th><th>Tráº¡ng thÃ¡i</th><th>Mua</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="box">
    <h3>ðŸ”‘ Quick Login Ugphone</h3>
    <label>Nháº­p Local Storage JSON:</label><br>
    <textarea id="jsonInput" rows="6" cols="70" placeholder='DÃ¡n JSON vÃ o Ä‘Ã¢y...'></textarea><br>
    <button onclick="makeCode()">Táº¡o Code</button>

    <div id="resultBox" style="display:none;">
      <p>âœ… Code nháº­p Local Storage!:</p>
      <pre class="code" id="resultCode"></pre>
    </div>
  </div>

  <script>
    const stockData = [
      { server:"UG-A", status:"CÃ²n" },
      { server:"UG-B", status:"Háº¿t" },
      { server:"UG-C", status:"CÃ²n" },
    ];

    function renderStock() {
      const tbody = document.querySelector("#stock tbody");
      tbody.innerHTML = "";
      stockData.forEach(s => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${s.server}</td>
          <td>${s.status}</td>
          <td><button onclick="buyOnce('${s.server}')">Mua</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function buyOnce(server) {
      alert("ðŸ“¡ Gá»­i yÃªu cáº§u mua " + server + " (demo payload Ugphone)");
      // ðŸ‘‰ á»Ÿ Ä‘Ã¢y báº¡n thay báº±ng fetch API thá»±c cá»§a Ugphone
    }

    function makeCode() {
      const json = document.getElementById("jsonInput").value.trim();
      if (!json) return alert("DÃ¡n JSON trÆ°á»›c!");
      const b64 = btoa(json);
      const code = `fetch(atob('${b64}')).then(r=>r.json()).then(data=>{for(let k in data){localStorage.setItem(k,typeof data[k]=="object"?JSON.stringify(data[k]):data[k])}});`;
      document.getElementById("resultCode").textContent = code;
      document.getElementById("resultBox").style.display = "block";
    }

    renderStock();
  </script>
</body>
</html>
