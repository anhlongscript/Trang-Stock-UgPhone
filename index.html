<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>UGPhone Stock</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Video n·ªÅn */
    .video-background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      overflow: hidden;
      z-index: -1;
    }
    .video-foreground {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
    }
    .video-foreground iframe {
      width: 100%; height: 100%;
    }

    /* To√†n b·ªô ch·ªØ */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      color: #66ccff; /* xanh d∆∞∆°ng nh·∫°t */
      text-align: center;
    }

    /* ƒê·ªìng h·ªì */
    #clock {
      font-size: 20px;
      margin-top: 15px;
    }

    /* B·∫£ng stock */
    table {
      margin: 20px auto;
      width: 400px;
      border-collapse: collapse;
      color: #66ccff;
      border: 1px solid #66ccff;
      background: rgba(0,0,0,0.5);
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(102,204,255,0.3);
      overflow: hidden;
    }
    table th, table td {
      border: 1px solid #66ccff;
      padding: 8px;
      text-align: center;
    }
    table th {
      background: rgba(0, 102, 204, 0.3);
    }

    /* N√∫t b·∫≠t nh·∫°c */
    #sound-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      z-index: 1000;
      transition: background 0.3s;
    }
    #sound-btn:hover {
      background: rgba(255,255,255,0.2);
    }
  </style>
</head>
<body>
  <!-- Video n·ªÅn -->
  <div class="video-background">
    <div class="video-foreground">
      <iframe src="https://www.youtube.com/embed/EV-91JV4Fws?autoplay=1&mute=1&loop=1&playlist=EV-91JV4Fws&controls=0&showinfo=0&modestbranding=1"
        frameborder="0" allow="autoplay; fullscreen"></iframe>
    </div>
  </div>

  <h1>üì¶ Stock UGPhone</h1>
  <div id="clock">--:--:--</div>

  <table id="stock-table">
    <thead>
      <tr>
        <th>T√™n</th>
        <th>S·ªë l∆∞·ª£ng</th>
        <th>Tr·∫°ng th√°i</th>
      </tr>
    </thead>
    <tbody>
      <tr><td colspan="3">‚è≥ ƒêang t·∫£i...</td></tr>
    </tbody>
  </table>

  <!-- N√∫t b·∫≠t nh·∫°c -->
  <button id="sound-btn">üîä B·∫≠t nh·∫°c</button>

  <script>
    // ƒê·ªìng h·ªì realtime
    function updateClock() {
      const now = new Date();
      document.getElementById("clock").innerText = 
        now.toLocaleTimeString("vi-VN");
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Load stock API
    async function loadStock() {
      try {
        const response = await fetch("https://ugstock-proxy.dailong581.workers.dev/");
        const data = await response.json();
        const tbody = document.querySelector("#stock-table tbody");
        tbody.innerHTML = "";

        data.forEach(item => {
          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${item.name}</td>
            <td>${item.stock}</td>
            <td>${item.status}</td>
          `;
          tbody.appendChild(row);
        });
      } catch (e) {
        document.querySelector("#stock-table tbody").innerHTML =
          `<tr><td colspan="3">‚ùå L·ªói khi t·∫£i d·ªØ li·ªáu</td></tr>`;
      }
    }
    setInterval(loadStock, 5000);
    loadStock();

    // B·∫≠t nh·∫°c
    const btn = document.getElementById("sound-btn");
    btn.addEventListener("click", () => {
      document.querySelector(".video-foreground").innerHTML = `
        <iframe src="https://www.youtube.com/embed/EV-91JV4Fws?autoplay=1&mute=0&loop=1&playlist=EV-91JV4Fws&controls=0&showinfo=0&modestbranding=1"
          frameborder="0" allow="autoplay; fullscreen"></iframe>
      `;
      btn.style.display = "none";
    });
  </script>
</body>
</html>
